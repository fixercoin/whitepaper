<script>
# Login with Face Scanning

// Import necessary libraries
import cv2
import numpy as np
import face_recognition

// Initialize the webcam
const videoCapture = cv2.VideoCapture(0);

// Load known face encodings and names
const knownFaceEncodings = [/* array of known face encodings */];
const knownFaceNames = [/* array of corresponding names */];

// Function to recognize faces
function recognizeFace() {
    videoCapture.read((err, frame) => {
        if (err) {
            console.error("Error capturing video frame:", err);
            return;
        }

        const rgbFrame = frame[:, :, ::-1]; // Convert BGR to RGB
        const faceLocations = face_recognition.face_locations(rgbFrame);
        const faceEncodings = face_recognition.face_encodings(rgbFrame, faceLocations);

        faceEncodings.forEach((encoding, index) => {
            const matches = face_recognition.compare_faces(knownFaceEncodings, encoding);
            let name = "Unknown";

            if (matches.some(match => match)) {
                const firstMatchIndex = matches.indexOf(true);
                name = knownFaceNames[firstMatchIndex];
            }

            const (top, right, bottom, left) = faceLocations[index];
            cv2.rectangle(frame, (left, top), (right, bottom), (0, 255, 0), 2);
            cv2.putText(frame, name, (left, top - 10), cv2.FONT_HERSHEY_SIMPLEX, 0.5, (255, 255, 255), 2);
        });

        cv2.imshow("Face Recognition", frame);
        if (cv2.waitKey(1) & 0xFF === 27) { // Press 'ESC' to exit
            videoCapture.release();
            cv2.destroyAllWindows();
        }
    });
}

// Start face recognition
recognizeFace();

</script>
